{% extends 'base.html' %}
{% block content %}
{% include 'navbar.html' %}

<section class="section mt-8">
  <div class="mx-auto max-w-4xl px-4">
    <div class="bg-black rounded-xl overflow-hidden shadow-2xl p-6 text-white">
      <a href="{% url 'main:show_main' %}" 
         class="inline-block mb-6 text-yellow-500 hover:text-yellow-400 transition">
        ‚Üê Kembali ke Daftar Produk
      </a>
      <h1 class="text-3xl md:text-4xl font-extrabold mb-4">{{ product.name }}</h1>
      <div class="flex flex-wrap gap-4 text-sm text-gray-300 mb-6">
        <p><span class="font-semibold text-white">Kategori:</span> {{ product.category }}</p>
        <p><span class="font-semibold text-white">Harga:</span> Rp {{ product.price }}</p>
        <p><span class="font-semibold text-white">Stok:</span> {{ product.stock }}</p>
        <p><span class="font-semibold text-white">Featured:</span> {{ product.is_featured|yesno:"Ya,Tidak" }}</p>
      </div>
      {% if product.thumbnail %}
        <img src="{{ product.thumbnail }}" alt="{{ product.name }}" 
             class="w-full max-h-[400px] object-cover rounded-lg mb-6">
      {% endif %}
      <p class="text-gray-200 text-base leading-relaxed mb-6">
        {{ product.description }}
      </p>
      <p class="text-gray-400 mb-8">
        <span class="font-semibold text-white">Author:</span> 
        {% if product.user %}{{ product.user.username }}{% else %}Anonymous{% endif %}
      </p>
      <div class="flex gap-4">
        <a href="{% url 'main:show_main' %}">
          <button class="bg-yellow-600 text-black px-5 py-2 rounded-lg font-semibold transition-transform duration-300 hover:scale-105 hover:bg-blue-700">
            ‚Üê Kembali ke Daftar Produk
          </button>
        </a>

        {% if user.is_authenticated and product.user == user %}
          <a href="{% url 'main:edit_product' product.pk %}">
            <button class="bg-yellow-900 text-white px-5 py-2 rounded-lg font-semibold transition-transform duration-300 hover:scale-105 hover:bg-green-800">
              ‚úèÔ∏è Edit Produk
            </button>
          </a>
          <form method="POST" action="{% url 'main:delete_product' product.pk %}" 
                onsubmit="return confirm('Yakin mau hapus produk ini?')">
            {% csrf_token %}
            <button type="submit" 
                    class="bg-red-600 text-white px-5 py-2 rounded-lg font-semibold transition-transform duration-300 hover:scale-105 hover:bg-red-800">
              üóë Hapus Produk
            </button>
          </form>
        {% endif %}
      </div>
    </div>
  </div>
</section>

{% endblock content %}
